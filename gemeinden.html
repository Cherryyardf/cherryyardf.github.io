<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Für Gemeinden - BAUKOMPASS</title>
    <style>
        /* --- GRUNDEINSTELLUNGEN --- */
        :root {
            --bg-color: #f8f1d9;
            --text-color: #222;
            --accent-color: #2c3e50;
            --active-tab: #e67e22;
            --cat-infra: #34495e;
            --cat-wohnen: #d35400;
            --cat-sozial: #27ae60;
            --cat-natur: #2ecc71;
        }
        body { 
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
            margin: 0; padding: 0; 
            background-color: var(--bg-color); 
            color: var(--text-color); 
            line-height: 1.6; 
        }
        
        /* Navigation */
        nav { display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background: white; border-bottom: 1px solid #e0e0e0; }
        .logo { font-weight: 900; font-size: 1.5rem; letter-spacing: 2px; text-transform: uppercase; text-decoration: none; color: black; }
        .nav-links a { text-decoration: none; color: var(--text-color); font-weight: bold; font-size: 0.9rem; text-transform: uppercase; }

        /* Tabs */
        .tab-container { display: flex; justify-content: center; border-bottom: 2px solid #ccc; margin-bottom: 40px; background: white; padding-top: 20px; flex-wrap: wrap; }
        .tab-button { background-color: transparent; border: none; cursor: pointer; padding: 14px 25px; font-size: 1rem; font-weight: bold; color: #666; border-bottom: 4px solid transparent; transition: 0.3s; }
        .tab-button:hover { color: var(--accent-color); background: #f9f9f9; }
        .tab-button.active { color: var(--accent-color); border-bottom: 4px solid var(--active-tab); }
        .tab-content { display: none; animation: fadeEffect 0.5s; padding: 0 20px 40px 20px; }

        /* Layout & Text */
        .content-wrapper { width: 100%; max-width: 1600px; margin: 0 auto; }
        .info-section { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); margin-bottom: 30px; }
        .info-section h2 { color: var(--accent-color); border-left: 5px solid var(--active-tab); padding-left: 15px; margin-top: 0; }
        .highlight-box { background: #fdf6e3; border-left: 4px solid #b58900; padding: 20px; margin: 20px 0; font-style: italic; }
        
        /* Projektbörse: Spalten-Layout */
        .project-board { display: flex; gap: 20px; overflow-x: auto; padding-bottom: 20px; align-items: flex-start; }
        .project-column { flex: 1; min-width: 300px; background: rgba(255,255,255,0.5); border-radius: 8px; padding: 15px; }
        .project-column h2 { font-size: 1.1rem; color: white; padding: 10px; border-radius: 4px; margin-top: 0; text-align: center; }
        
        /* Cards */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); position: relative; display: flex; flex-direction: column; margin-bottom: 15px; transition: transform 0.2s; }
        .card:hover { transform: translateY(-3px); }
        .card h3 { margin: 0 0 10px 0; font-size: 1rem; color: var(--accent-color); border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .card p { font-size: 0.85rem; margin-bottom: 15px; }
        
        /* Badges */
        .badge { position: absolute; top: 10px; right: 10px; padding: 2px 8px; border-radius: 4px; color: white; font-size: 0.65rem; font-weight: bold; text-transform: uppercase; }
        .bg-infra { background: var(--cat-infra); }
        .bg-wohnen { background: var(--cat-wohnen); }
        .bg-sozial { background: var(--cat-sozial); }
        .bg-natur { background: var(--cat-natur); }

        /* Modal */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: white; margin: 5% auto; padding: 30px; border-radius: 8px; width: 90%; max-width: 500px; }
        .modal-content input, .modal-content textarea { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        .btn-contact { background: var(--active-tab); color: white; border: none; padding: 10px; border-radius: 4px; cursor: pointer; font-weight: bold; width: 100%; font-size: 0.9rem; }

        @keyframes fadeEffect { from {opacity: 0;} to {opacity: 1;} }
    </style>
</head>
<body>

    <div id="contactModal" class="modal">
        <div class="modal-content">
            <h2>Projekt-Anfrage</h2>
            <p style="font-size: 0.8rem; color: #666;">Weitervermittlung durch die StädteRegion Aachen.</p>
            <form id="projectForm">
                <input type="text" placeholder="Organisation / Gemeinde" required>
                <input type="email" placeholder="E-Mail" required>
                <textarea rows="4" id="modalMessage"></textarea>
                <button type="submit" class="btn-contact">Anfrage absenden</button>
                <button type="button" onclick="closeModal()" style="background:none; border:none; color:#888; width:100%; margin-top:10px; cursor:pointer;">Abbrechen</button>
            </form>
        </div>
    </div>

    <nav>
        <div class="nav-links"><a href="index.html">&larr; Zurück</a></div>
        <a href="index.html" class="logo">BAUKOMPASS</a>
        <div style="width: 80px;"></div>
    </nav>

    <div style="text-align: center; margin: 40px 0;">
        <h1>Von Gemeinden für Gemeinden</h1>
        <p>MORO-Dashboard StädteRegion Aachen</p>
    </div>

    <div class="tab-container">
        <button class="tab-button active" onclick="openTab(event, 'Info')">Fazit & Ausblick</button>
        <button class="tab-button" onclick="openTab(event, 'Geoportale')">Geoportale</button>
        <button class="tab-button" onclick="openTab(event, 'Tool')">Immobilien-Tool</button>
        <button class="tab-button" onclick="openTab(event, 'Kontakte')">Gemeinden</button>
        <button class="tab-button" onclick="openTab(event, 'Projekte')">Projektbörse</button>
    </div>

    <main class="content-wrapper">
        
        <div id="Info" class="tab-content" style="display: block;">
            <div class="info-section">
                <h2>1. Status Quo & Flächenpotenziale</h2>
                <p>Das MORO-Konzept „Mehr Wohnraum schaffen“ zeigt, dass Flächenpotenziale oft zweitrangig sind oder aufgrund schwieriger Eigentümerstrukturen blockiert bleiben.</p>
                <div class="highlight-box">„Der Widerstand von Eigentümer:innen führt zu schwacher Innenentwicklung – ein Trend in DE und BE.“</div>
            </div>
            <div class="info-section">
                <h2>2. Strategische Vision</h2>
                <p>Zentraler Ansatz: Übertragung des FNP auf die <strong>StädteRegion Aachen</strong> zur Bündelung der Ressourcen. Grenzüberschreitende Kooperation gelingt primär über gemeinsamen <strong>Infrastrukturausbau</strong>.</p>
            </div>
        </div>

        <div id="Geoportale" class="tab-content">
            <div class="grid-container">
                <div class="card" style="border-top: 5px solid #00549f;"><h3>Geoportal StädteRegion</h3><a href="https://geoportal.staedteregion-aachen.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Öffnen &rarr;</a></div>
                <div class="card" style="border-top: 5px solid #ffcc00;"><h3>WalOnMap (Belgien)</h3><a href="https://geoportail.wallonie.be/walonmap" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Öffnen &rarr;</a></div>
                <div class="card" style="border-top: 5px solid #d32f2f;"><h3>BORIS.NRW</h3><a href="https://www.boris.nrw.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Öffnen &rarr;</a></div>
            </div>
        </div>

        <div id="Tool" class="tab-content">
            <div style="background: white; border-radius: 8px; overflow: hidden; min-height: 800px;">
                <iframe id="seamless-tool" src="tool/index.html" style="width: 100%; border: none; min-height: 800px;"></iframe>
            </div>
        </div>

        <div id="Kontakte" class="tab-content">
            <div class="grid-container">
                <div class="card"><h3>Stadt Aachen</h3><a href="https://www.aachen.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Service &rarr;</a></div>
                <div class="card"><h3>Stolberg</h3><a href="https://www.stolberg.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Service &rarr;</a></div>
                <div class="card"><h3>Simmerath</h3><a href="https://www.simmerath.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Service &rarr;</a></div>
                <div class="card"><h3>Monschau</h3><a href="https://www.monschau.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Service &rarr;</a></div>
                <div class="card"><h3>Roetgen</h3><a href="https://www.roetgen.de" target="_blank" style="color:var(--active-tab); font-weight:bold; text-decoration:none;">Service &rarr;</a></div>
            </div>
        </div>

        <div id="Projekte" class="tab-content">
            <div class="project-board">
                
                <div class="project-column">
                    <h2 class="bg-infra">Infrastruktur</h2>
                    <div class="card">
                        <span class="badge bg-infra">Strategisch</span>
                        <h3>Regio-Tram Ausbau</h3>
                        <p>Anbindung Aachen-Nord zur Entlastung des Wohnungsmarktes.</p>
                        <button class="btn-contact" onclick="openModal('Infrastruktur: Regio-Tram')">Interesse</button>
                    </div>
                </div>

                <div class="project-column">
                    <h2 class="bg-wohnen">Wohnen</h2>
                    <div class="card">
                        <span class="badge bg-wohnen">Pilot</span>
                        <h3>Eigentümer-Aktivierung</h3>
                        <p>Proaktive Ansprache zur Nutzung von Innenpotenzialen.</p>
                        <button class="btn-contact" onclick="openModal('Wohnen: Aktivierung')">Interesse</button>
                    </div>
                </div>

                <div class="project-column">
                    <h2 class="bg-sozial">Soziales</h2>
                    <div class="card">
                        <span class="badge bg-sozial">Aktiv</span>
                        <h3>Senioren-Campus</h3>
                        <p>Barrierefreies Wohnen im ländlichen Raum Aachen.</p>
                        <button class="btn-contact" onclick="openModal('Soziales: Senioren-Campus')">Interesse</button>
                    </div>
                </div>

                <div class="project-column">
                    <h2 class="bg-natur">Natur</h2>
                    <div class="card">
                        <span class="badge bg-natur">Gutachten</span>
                        <h3>Klima-Analyse Eifel</h3>
                        <p>Grenzüberschreitendes Gutachten zu Kaltluftströmen.</p>
                        <button class="btn-contact" onclick="openModal('Natur: Klima-Analyse')">Interesse</button>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) { tabcontent[i].style.display = "none"; }
            tablinks = document.getElementsByClassName("tab-button");
            for (i = 0; i < tablinks.length; i++) { tablinks[i].className = tablinks[i].className.replace(" active", ""); }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        const modal = document.getElementById("contactModal");
        function openModal(title) {
            modal.style.display = "block";
            document.getElementById("modalMessage").value = "Betreff: Interesse am Projekt [" + title + "]\n\nWir möchten uns gerne an diesem Projekt beteiligen...";
        }
        function closeModal() { modal.style.display = "none"; }
        window.onclick = function(e) { if (e.target == modal) closeModal(); }

        document.getElementById("projectForm").onsubmit = function(e) {
            e.preventDefault();
            alert("Ihre Nachricht wurde an die zentrale Koordinierungsstelle der StädteRegion Aachen gesendet.");
            closeModal();
        }

        // Iframe Resize Logic (Originaler Stand)
        window.addEventListener('message', function(e) {
            if (e.data && e.data.type === 'resize-iframe') {
                const iframe = document.getElementById('seamless-tool');
                if (iframe) { iframe.style.height = e.data.height + 'px'; }
            }
        });
    </script>
</body>
</html>
